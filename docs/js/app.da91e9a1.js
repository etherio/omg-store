(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"013b":function(t,e,a){"use strict";a("e9fb")},"034f":function(t,e,a){"use strict";a("85ec")},"2a34":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ProductForm",{attrs:{categories:t.categories}})],1)},s=[],o=a("e330"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Add Product")]),a("form",{staticClass:"ui form",attrs:{load:t.onload},on:{submit:function(e){return e.preventDefault(),t.submitProduct(e)}}},[t._m(0),a("div",{staticClass:"three fields"},[t._m(1),a("div",{staticClass:"field"},[a("label",{attrs:{for:"category"}},[t._v("Catagory")]),a("select",{staticClass:"ui search dropdown",attrs:{name:"category",id:"category"}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select Category")]),t._l(t.categories,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)])]),a("button",{staticClass:"ui fluid button primary",attrs:{type:"submit"}},[t._v("Save")])])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"required field"},[a("label",{attrs:{for:"name"}},[t._v("Product Name")]),a("input",{attrs:{type:"text",id:"name",name:"name",placeholder:"Product Name",autocomplete:"off",required:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"required field"},[a("label",{attrs:{for:"price"}},[t._v("Product Price")]),a("input",{attrs:{type:"number",id:"price",name:"price",placeholder:"Product Price",autocomplete:"off",required:""}})])}],l=(a("a4d3"),a("e01a"),a("4160"),a("a9e3"),a("b64b"),a("d3b7"),a("159b"),{apiKey:"AIzaSyBiSkxX_gfnqyhPath2vFwn2gjLclrFCtI",authDomain:"etherio-vue.firebaseapp.com",databaseURL:"https://etherio-vue.firebaseio.com",projectId:"etherio-vue",storageBucket:"etherio-vue.appspot.com",messagingSenderId:"966040745442",appId:"1:966040745442:web:2a83c08213721cdaacb5bb"}),d="ctkesqmPHGJHW95gMvnL";firebase.initializeApp(l),firebase.analytics();var p=firebase.firestore().collection("databases").doc(d),m=(firebase.storage().ref(),p.collection("products")),f=function(t,e){var a={name:null,category:null,description:null,price:null,stocks:null,createdAt:null};Object.keys(a).forEach((function(t){a[t]=e[t].value})),m.doc().set(a).then((function(){return t()}))},v={name:"ProductForm",props:["categories"],methods:{submitProduct:function(t){var e=t.target.elements;t.target.classList.add("loading"),fetch("https://ethereal-demo-link.netlify.app/.netlify/functions/timestamp").then((function(t){return t.text()})).then((function(a){e.createdAt={name:"createdAt",value:Number(a)},e.stocks={name:"stocks",value:0},e.images={name:"images",value:[]},e.description={name:"description",value:null};var r=function(){t.target.classList.remove("loading"),t.target.reset()};f(r,e)}))}},computed:{onload:function(){var t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js",t.addEventListener("load",(function(){return $("#category").dropdown()})),document.body.appendChild(t)}}},g=v,h=(a("b230"),a("2877")),b=Object(h["a"])(g,c,u,!1,null,null,null),_=b.exports,C={name:"Home",props:["categories"],components:{ContentLoader:o["a"],ProductForm:_}},y=C,P=Object(h["a"])(y,i,s,!1,null,null,null),k=P.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.products,(function(t){return a("div",{key:t.id,staticClass:"ui divided items"},[a("ProductList",{attrs:{name:t.name,description:t.description,price:t.price,photoURL:t.photoURL,stock:t.stocks,createdAt:t.createdAt}}),a("hr")],1)})),0)},w=[],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div",{staticClass:"image"},[a("img",{attrs:{src:t.photoURL,alt:"product"}})]),a("div",{staticClass:"content"},[a("a",{staticClass:"header"},[t._v(t._s(t.name))]),a("div",{staticClass:"meta"},[a("span",{staticClass:"price"},[t._v(t._s(t.price.toLocaleString()))])]),a("div",{staticClass:"description"},[t.stock?a("p",[t._v("Stock: "+t._s(t.stock))]):t._e(),a("p",[t._v(t._s(t.description))]),a("small",[t._v("Created at "+t._s(new Date(t.createdAt).toLocaleString()))])])]),t._m(0)])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"extra"},[a("div",{staticClass:"ui right floated primary button"},[t._v(" Edit "),a("i",{staticClass:"right chevron icon"})])])}],O={name:"ProductList",props:["name","photoURL","price","description","stock","createdAt"]},E=O,I=(a("92e5"),Object(h["a"])(E,j,x,!1,null,null,null)),A=I.exports,S={name:"Product",props:["products"],components:{ContentLoader:o["a"],ProductList:A}},F=S,R=Object(h["a"])(F,L,w,!1,null,null,null),U=R.exports;r["a"].use(n["a"]);var M=[{path:"/",name:"Home",component:k},{path:"/product",name:"Product",component:U}],W=new n["a"]({routes:M}),q=W,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("main",[a("div",{staticClass:"ui fixed inverted menu"},[a("div",{staticClass:"ui container"},[t._m(0),a("router-link",{staticClass:"item",attrs:{to:"/"}},[t._v("Home")]),a("router-link",{staticClass:"item",attrs:{to:"/product"}},[t._v("Product")])],1)]),a("div",{staticClass:"ui main container"},[t.loggedIn?a("div",[a("router-view",{attrs:{products:t.products,categories:t.categories}})],1):a("div",{staticClass:"ui login container"},[a("LoginForm")],1)])]):t._e()},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"header item",attrs:{href:"#"}},[a("img",{staticClass:"logo",attrs:{src:"https://semantic-ui.com/examples/assets/images/logo.png"}}),t._v(" OMG Admin ")])}],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui middle aligned center aligned grid"},[a("div",{staticClass:"column"},[t._m(0),a("div",{staticClass:"ui large form my-10 p-10"},[a("div",{staticClass:"ui stacked segment"},[a("button",{staticClass:"ui fluid large red submit button mt-6",on:{click:function(e){return t.signInWithGoogle()}}},[a("i",{staticClass:"fa fa-google mr-4"}),t._v(" Log In with Google ")]),a("button",{staticClass:"ui fluid large blue active submit button mt-6",on:{click:function(e){return t.signInWithFacebook()}}},[a("i",{staticClass:"fa fa-facebook bl mr-4"}),t._v(" Log In with Facebook ")])])]),t.errors?a("div",{staticClass:"ui error message"}):t._e()])])},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"ui teal image header"},[a("img",{staticClass:"image",attrs:{src:"https://semantic-ui.com/examples/assets/images/logo.png"}}),a("div",{staticClass:"content"},[t._v("Log-in to your account")])])}],J={name:"Login",props:["errors"],methods:{signInWithGoogle:function(){var t=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithRedirect(t)},signInWithFacebook:function(){var t=new firebase.auth.FacebookAuthProvider;firebase.auth().signInWithRedirect(t)}}},N=J,z=(a("013b"),Object(h["a"])(N,H,B,!1,null,null,null)),T=z.exports,K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ui secondary pointing menu"},[a("a",{staticClass:"active item"},[t._v(" Home ")]),a("a",{staticClass:"item"},[t._v(" Messages ")]),a("a",{staticClass:"item"},[t._v(" Friends ")]),a("div",{staticClass:"right menu"},[a("a",{staticClass:"ui item"},[t._v(" Logout ")])])]),a("div",{staticClass:"ui segment"},[a("p")])])}],Q={name:"Dashboard",props:["msg"]},V=Q,Y=Object(h["a"])(V,K,X,!1,null,null,null),Z=Y.exports,tt={user:null,loggedIn:!1,loaded:!1,products:[],categories:[]};firebase.auth().onAuthStateChanged((function(t){if(tt.user=t,tt.loggedIn=Boolean(t),tt.loaded=!0,t)try{p.get().then((function(t){var e=t.data();tt.categories=e.categories})),m.orderBy("createdAt","desc").get().then((function(t){t.forEach((function(t){var e=t.data();e.id=t.ref.id,e.photoURL=null;var a=e.images[0];a?firebase.storage().ref().child(a).getDownloadURL().then((function(t){return e.photoURL=t})):e.photoURL="/assets/image.png",tt.products.push(e)}))}))}catch(e){console.error(e)}tt.loaded=!0}));var et={data:function(){return tt},components:{LoginForm:T,Dashboard:Z}},at=et,rt=(a("034f"),Object(h["a"])(at,D,G,!1,null,null,null)),nt=rt.exports;new r["a"]({el:"#app",router:q,data:{user:{}},methods:{},computed:{},render:function(t){return t(nt)}})},"85ec":function(t,e,a){},"92e5":function(t,e,a){"use strict";a("baaa")},b230:function(t,e,a){"use strict";a("2a34")},baaa:function(t,e,a){},e9fb:function(t,e,a){}});
//# sourceMappingURL=app.da91e9a1.js.map